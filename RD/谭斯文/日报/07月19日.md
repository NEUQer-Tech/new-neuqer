# 个人日报

谭斯文 202112053

#### 本日工作：

1. 了解并学习了计网的应用层

#### 成果展示：

## 概述

因为不同的网络应用之间需要有一个确定的通信规则


1.1 两种常用的网络应用模型
1.1.1 客户/服务器模型（Client/Server）


1.1.2 P2P模型（Peer-to-Peer）
网络健壮性指的是P2P模型不容易坏掉，即使一个节点坏了也没问题，可以有其他节点代替


2. 域名系统协议（DNS）
   2.1 概述
   DNS就是将打在地址栏的域名转化为IP地址的东西


2.1.1 域名
域名就是www.xxx.com，当然这是最简单的一种
.com之后还可以有东西，称之为根
域名从左向右，级别逐渐增高



2.2 域名服务器（DNS服务器）
DNS服务器有很多台，根据层次结构分为三层，根域名服务器，顶级域名服务器，权限域名服务器
本地域名服务器不算层次结构，特点是里主机比较近，当主机和另一台比较近的主机通信时，就不用走哪些更高级的服务器了
根域名服务器并不是一个域名只有一台，而是一个域名对应多台域名服务器，全世界一共有13个这样的域名，分别是a.rootservers.net，b.rootservers.net，c.rootservers.net，~m.rootservers.net
在权限域名服务器中，虽然看似abc.com比y.abc.com少了一位，但是他们的地位仍是对等的，对应的两台权限域名服务器


2.3 域名解析过程



2.3.1 递归查询
在上图中
主机先是想本地域名服务器发送请求，如果查不到的话，
本地域名服务器向根域名服务器发送请求（找别人），如果还是查不到的话，
根域名域名服务器向顶级域名服务器发送请求（找别人），如果还是查不到的话，
顶级域名服务器向权限域名服务器发送请求（找别人）
可以看到每一次向下一个查询的服务器都变了，不是主机一个个去问，而是服务器自己一个个问下去

2.3.2 迭代查询
在上图中
主机先是想本地域名服务器发送请求，如果查不到的话，
本地域名服务器就让主机去向根域名服务器发送请求（主机去找，本地域名给目标根域名服务器的IP地址），如果还是查不到的话，
根域名域名服务器让主机去向对应的顶级域名服务器发送请求（主机去找，根域名给目标顶级域名服务器的IP地址），如果还是查不到的话，
顶级域名服务器让主机去向权限域名服务器发送请求（主机去找，顶级域名给目标权限域名服务器的IP地址）
可以看到这里是主机一个个挨个问的地址

2.3.3 高速缓存
为了减少多次查询同一个域名的资源浪费，本地域名服务器会存储最近使用的ip地址解析，下次再访问同一个域名就不需要这么多查询步骤了。同时这个高速缓存主机本身也有存储
同时本地域名服务器还可以对顶级域名服务器，权限域名服务器的地址进行缓存，下一次即使是不知道的ip地址，查询也可以更快
高速缓存为了保持正确性，需要定时更新

3. 文件传输协议（FTP，TFTP）
   3.1 概述
   TFTP是一个轻量的，比较容易实现的，面对小文件的，UDP的文件传输协议
   这里我们重点是FTP协议


3.2 FTP的服务端和客户端


3.3 FTP的工作原理
为什么有匿名登陆：对于一些公共服务器来说，增加验证阶段就是增加资源开销，减少验证阶段就可以节省资源来更好地服务
主进程和从属进程的区别：主进程是打开端口，让外部发送的数据可以进来，并且将这些数据逐个分配各从属进程。从属进程则是单独为这些数据服务


先注释一下这里的主进程被忽略掉了，只是没标在上面，不是没有啊
这里客户端和服务器端先建立TCP连接，端口是21，称为控制连接
然后看情况是主动建立连接还是被动建立连接
主动建立连接是指服务器端主动发送请求和客户端进行连接，此时端口号固定是20
被动连接是指客户端发送请求和服务器端建立数据传送连接，此时端口号是不确定，有两者协商得到
数据传输完成之后，数据连接断开，控制连接继续保持，直至两边发送断开请求


FTP的两种传输模式了解即可


4. 电子邮件
   4.1 概述
   4.1.1 电子邮件的格式


4.1.2 电子邮件系统的组成结构
注释：
用户代理的四个功能解释：
撰写就是给用户编辑信件的环境
显示就是可以看到自己写的和自己收的信件内容
处理就是对信件进行操作，包括删除，打印，转发等等
通信就是可以将邮件发送到邮件服务器当中，同时可以从邮件服务器当中读取邮件

邮件服务器的功能注释
邮件服务器端的发送和接受是指从自己的用户代理处接收邮件，之后向对面的邮件服务器发送邮件
邮件服务器的报告邮件发送结果就是投递是否成功这种情况
邮件服务器既可以作为客户端又可以作为服务器端，使用的是C/S方式

协议的功能注释
发邮件用的是SMTP
收邮件的是POP3或者IMAP